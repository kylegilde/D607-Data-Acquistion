---
title: "607 Data Aquisition - Week 1"
author: "Kyle Gilde"
date: "Feb. 4, 2017"
output: html_document
---
<style>
div.beige pre { background-color:beige; }
</style>
 <div class = "beige">

####Your task is to study the dataset and the associated description of the data (i.e. "data dictionary"). You may need to look around a bit, but it's there! 
+ You should take the data, and create a data frame with a subset of the columns in the dataset. 
+ You should include the column that indicates edible or poisonous and three or four other columns. 
+ You should also add meaningful column names and replace the abbreviations used in the data-for example, in the appropriate column, "e" might become "edible." 

####Your deliverable is the R code to perform these transformation tasks



#Setup & Load Data
```{r setup & load data, echo=F} 
knitr::opts_chunk$set(#echo=FALSE, 
                      warning=FALSE, 
                      message=FALSE,
                      #tidy=TRUE,
                      comment = "",
                      dev="png", 
                      #fig.width = 6, 
                      #fig.height = 4, 
                      #dpi=200, 
                      dev.args=list(type="cairo"))
require(RCurl)
require(plyr)

url <- "https://archive.ics.uci.edu/ml/machine-learning-databases/mushroom/agaricus-lepiota.data"
mush <- getURL(url)
my.mush <- read.csv(text=mush, header = F, sep = ",", stringsAsFactors = F)


```

#Subset & transform data
```{r}
my.mush <- my.mush[, c(1, 5, 22, 23)]

names(my.mush) <- c("edibility", "has_bruises", "population", "habitat")

my.mush$edibility[my.mush$edibility == "e"] <- "edible"
my.mush$edibility[my.mush$edibility == "p"] <- "poisonous"

my.mush$has_bruises[my.mush$has_bruises == "t"] <- "TRUE"
my.mush$has_bruises[my.mush$has_bruises == "f"] <- "FALSE"

my.mush$population[my.mush$population == "a"] <- "abundant"
my.mush$population[my.mush$population == "c"] <- "clustered"
my.mush$population[my.mush$population == "n"] <- "numerous"
my.mush$population[my.mush$population == "s"] <- "scattered"
my.mush$population[my.mush$population == "v"] <- "several"
my.mush$population[my.mush$population == "y"] <- "solitary"

my.mush$habitat[my.mush$habitat == "g"] <- "grasses"
my.mush$habitat[my.mush$habitat == "l"] <- "leaves"
my.mush$habitat[my.mush$habitat == "m"] <- "meadows"
my.mush$habitat[my.mush$habitat == "p"] <- "paths"
my.mush$habitat[my.mush$habitat == "u"] <- "urban"
my.mush$habitat[my.mush$habitat == "w"] <- "waste"
my.mush$habitat[my.mush$habitat == "d"] <- "woods"

```


#Sample Data & Convert back to factors
```{r, echo = F}
my.mush[] <- lapply(my.mush, factor)
head(my.mush)
str(my.mush)
```
</div>